!function(t){function e(t,e){var n;for(n in e)t.dataset?t.dataset[n]=e[n]:t.setAttribute("data-"+n.replace(/[A-Z]/g,"-$&").toLowerCase(),e[n])}function n(t,e){var n,o=e.replace(/[A-Z]/g,"-$&").toLowerCase();return n=t.dataset?t.dataset[e]:t.getAttribute("data-"+o),void 0!==n&&n}function o(t){return t.replace(/\-\w/g,function(t){return t.substring(1).toUpperCase()})}function i(){a(),c()}function a(){l(function(t,o,i){var a=n(t,"modalpop");if(a=null!=a&&a,a!==!1&&!n(t,"modalpopInit")){var p=d(t);e(t,{modalpopInit:!0,modalpopKey:p.key})}})}function p(e){t(g[o(e)].element).find(".popup-header .close").bind("click",function(){u(e)}),t(g[o(e)].element).find(".overlay").bind("click",function(){u(e)})}function l(t,e){for(var n=document.getElementsByTagName("*"),o=0,i=0;o<n.length;o++)i++,attrs=n[o].attributes,null!=attrs&&(t.call(window,n[o],n[o].attributes),i++)}function d(t){var e=Date.now(),i={key:e,name:n(t,"modalpopName")||"modalpop_"+e,element:t,width:n(t,"modalpopWidth")||"auto",height:n(t,"modalpopHeight")||"auto",align:n(t,"modalpopAlign")||"center",valign:n(t,"modalpopValign")||(n(t,"modalpopHeight")?"center":"top"),autoOpen:""===n(t,"modalpopAutoopen"),fade:""===n(t,"modalpopFade"),handleClick:function(){}};return g[o(i.name)]=i,i}function c(){var e,n;for(e in g)g[e].isSetDone||(g[e].isSetDone=!0,n=t(g[o(e)].element),n.find(".popup").css({width:g[o(e)].width?g[o(e)].width+"px":"auto",height:g[o(e)].height?g[o(e)].height+"px":"auto",margin:("auto"!=g[o(e)].height&&"center"==g[o(e)].valign?-g[o(e)].height/2:"30")+"px 0px 0px "+("auto"!=g[o(e)].width&&"center"==g[o(e)].align?-g[o(e)].width/2:"0")+"px",left:"center"==g[o(e)].align?"50%":"0px",top:"center"==g[o(e)].valign?"50%":"0px"}),g[o(e)].fade&&(n.find(".popup").get(0).style.webkitTransition=n.find(".popup").get(0).style.transition=n.find(".popup").get(0).style.MozTransition="opacity 0.3s ease 0.1s",n.find(".overlay").get(0).style.webkitTransition=n.find(".overlay").get(0).style.transition=n.find(".overlay").get(0).style.MozTransition="opacity 0.3s",n.find(".popup").css({opacity:0}),n.find(".overlay").css({opacity:0})),p(e),g[o(e)].autoOpen&&r(e))}function r(e){t(g[o(e)].element).addClass("open"),g[o(e)].fade&&setTimeout(function(){t(g[o(e)].element).find(".popup").css({opacity:1}),t(g[o(e)].element).find(".overlay").css({opacity:.7})},100)}function u(e){g[o(e)].fade?(t(g[o(e)].element).find(".popup").css({opacity:0}),t(g[o(e)].element).find(".overlay").css({opacity:0}),setTimeout(function(){t(g[o(e)].element).removeClass("open")},300)):t(g[o(e)].element).removeClass("open")}function f(){l(function(e,i){if(n(e,"modalpopClick")&&null!==e.getAttribute("data-modalpop-click")){var a=e.getAttribute("data-modalpop-click");void 0!=g[o(a)]&&(t(e).bind("click",function(){r(a)}),g[o(a)].handleClick&&t(e).bind("click",g[o(a)].handleClick))}})}function s(t){var e;for(e in g)if(e==o(t))return e;return!1}function m(){l(function(t,o,i){var a=n(t,"modalpop");if(a=null!=a&&a,a!==!1&&!n(t,"modalpopInit")&&!s(n(t,"modalpopName"))){var p=d(t);e(t,{modalpopInit:!0,modalpopKey:p.key})}})}var g=g||{};window.ModalPopup={getPopupData:function(t){return void 0==t?g:g[o(t)]},openPopup:function(t){r(t)},rerender:function(){m()}},t(document).ready(function(){i(),f()})}(jQuery);